{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport axios from 'axios';\nimport { useRouter } from 'vue-router';\nimport { jwtDecode } from 'jwt-decode';\nexport default {\n  __name: 'LoginPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const form = ref({\n      email: '',\n      password: ''\n    });\n    const errorMessage = ref('');\n    const submitForm = async () => {\n      try {\n        const response = await axios.post('/employee/doLogin', form.value);\n        const token = response.data.token;\n        const email = jwtDecode(token).sub; // 이메일을 JWT에서 추출\n        localStorage.setItem('token', token);\n        localStorage.setItem('email', email);\n        router.push('/myInfo');\n      } catch (error) {\n        errorMessage.value = error.response?.data?.message || '로그인에 실패했습니다.';\n      }\n    };\n    const __returned__ = {\n      router,\n      form,\n      errorMessage,\n      submitForm,\n      ref,\n      get axios() {\n        return axios;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get jwtDecode() {\n        return jwtDecode;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","useRouter","jwtDecode","router","form","email","password","errorMessage","submitForm","response","post","value","token","data","sub","localStorage","setItem","push","error","message"],"sources":["/Users/haeseung/2025/musinsa_project/musinsa_frontend/src/pages/LoginPage.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <h2 style=\"text-align: center\">MUSINSA CREW 로그인</h2>\n\n    <form @submit.prevent=\"submitForm\">\n      <label>이메일</label>\n      <input v-model=\"form.email\" type=\"email\" required placeholder=\"이메일을 입력하세요\" />\n\n      <label>비밀번호</label>\n      <input v-model=\"form.password\" type=\"password\" required placeholder=\"비밀번호를 입력하세요\" />\n\n      <button type=\"submit\">로그인</button>\n    </form>\n\n    <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport axios from 'axios'\nimport { useRouter } from 'vue-router'\nimport { jwtDecode } from 'jwt-decode'\n\nconst router = useRouter()\n\nconst form = ref({\n  email: '',\n  password: '',\n})\n\nconst errorMessage = ref('')\n\nconst submitForm = async () => {\n  try {\n    const response = await axios.post('/employee/doLogin', form.value)\n    const token = response.data.token\n    const email = jwtDecode(token).sub // 이메일을 JWT에서 추출\n    localStorage.setItem('token', token)\n    localStorage.setItem('email', email)\n    router.push('/myInfo')\n  } catch (error) {\n    errorMessage.value = error.response?.data?.message || '로그인에 실패했습니다.'\n  }\n}\n</script>\n\n<style scoped>\n.login-container {\n  height: 100vh;\n  background-color: #000;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 20px;\n  box-sizing: border-box;\n}\n\ninput {\n  width: 100%;\n  margin-bottom: 1px; /* was 12px */\n  background-color: white;\n  color: black;\n  border: 1px solid #ccc;\n  padding: 10px;\n  border-radius: 6px;\n  box-sizing: border-box;\n}\n\n.error {\n  color: red;\n}\n\nlabel {\n  margin-top: 8px;\n  display: block;\n  color: black;\n}\n\nbutton[type=\"submit\"] {\n  width: 100%;\n  background-color: #555;\n  color: white;\n  border: none;\n  padding: 10px;\n  border-radius: 6px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  margin-top: 20px; /* added spacing below inputs */\n}\n\nbutton[type=\"submit\"]:hover {\n  background-color: #444;\n}\n</style>"],"mappings":";AAmBA,SAASA,GAAG,QAAQ,KAAI;AACxB,OAAOC,KAAK,MAAM,OAAM;AACxB,SAASC,SAAS,QAAQ,YAAW;AACrC,SAASC,SAAS,QAAQ,YAAW;;;;;;;IAErC,MAAMC,MAAM,GAAGF,SAAS,CAAC;IAEzB,MAAMG,IAAI,GAAGL,GAAG,CAAC;MACfM,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;IACZ,CAAC;IAED,MAAMC,YAAY,GAAGR,GAAG,CAAC,EAAE;IAE3B,MAAMS,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,mBAAmB,EAAEN,IAAI,CAACO,KAAK;QACjE,MAAMC,KAAK,GAAGH,QAAQ,CAACI,IAAI,CAACD,KAAI;QAChC,MAAMP,KAAK,GAAGH,SAAS,CAACU,KAAK,CAAC,CAACE,GAAG,EAAC;QACnCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,KAAK;QACnCG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEX,KAAK;QACnCF,MAAM,CAACc,IAAI,CAAC,SAAS;MACvB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdX,YAAY,CAACI,KAAK,GAAGO,KAAK,CAACT,QAAQ,EAAEI,IAAI,EAAEM,OAAO,IAAI,cAAa;MACrE;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}